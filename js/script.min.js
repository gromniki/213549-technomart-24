window.addEventListener("DOMContentLoaded",function(){"use strict";var e=document.querySelector(".js-btn-show-modal-feedback"),t=document.querySelector(".modal-feedback"),o=t.querySelector(".modal-form"),a=t.querySelector("[name=name]"),l=t.querySelector("[name=email]"),n=t.querySelector("[name=text]"),r=!0,c="",d="",s=document.querySelector(".js-btn-show-modal-map"),u=document.querySelector(".modal-map"),m=document.querySelectorAll(".btn-buy"),i=document.querySelector(".modal-added-product"),v=document.querySelectorAll(".modal-close"),f=document.querySelector(".js-slide-prev");document.querySelector(".js-slide-next");f.addEventListener("click",function(e){e.preventDefault()});try{c=localStorage.getItem("name"),d=localStorage.getItem("email")}catch(e){r=!1}e.addEventListener("click",function(e){e.preventDefault(),t.classList.add("modal-show"),c&&!l?(a.value=c,l.focus()):d&&c?(a.value=c,l.value=d,n.focus()):a.focus()}),o.addEventListener("submit",function(e){a.value&&l.value&&n.value?r&&(localStorage.setItem("name",a.value),localStorage.setItem("email",l.value)):(e.preventDefault(),t.classList.add("modal-error"))}),window.addEventListener("keydown",function(e){27===e.keyCode&&(e.preventDefault(),t.classList.contains("modal-show")&&(t.classList.remove("modal-show"),t.classList.remove("modal-error")))}),s.addEventListener("click",function(e){e.preventDefault(),u.classList.add("modal-show")});for(var L=0;L<v.length;L++)v[L].addEventListener("click",function(e){e.preventDefault(),this.parentNode.classList.remove("modal-show"),this.parentNode.classList.remove("modal-error"),console.log("Закрыл элемент "+this.parentNode.className)});for(var y=0;y<m.length;y++)m[y].addEventListener("click",function(e){e.preventDefault(),i.classList.add("modal-show")})});